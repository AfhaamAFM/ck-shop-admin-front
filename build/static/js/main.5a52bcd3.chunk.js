(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{147:function(e,t,a){},205:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(32),s=a.n(n),o=(a(147),a(20)),i=a(11),l=a(3),d=a(225),j=a(79),b=a(7),u=a.n(b),h=a(8),O="ADMIN_FETCH_REQUEST",x="ADMIN_FETCH_SUCCESS",m="ADMIN_FETCH_ERROR",f="ADMIN_FETCH_VERIFY",p="ADMIN_FETCH_REQUEST",g="ADMIN_FETCH_SUCCESS",y="ADMIN_FETCH_ERROR",v=function(){return{type:O}},C=function(){return function(e){e(v()),u.a.get("/admin/loggedIn").then((function(t){var a;e((a=t.data,{type:f,payload:a}))})).catch((function(t){var a;e({type:m,payload:a})}))}},S=function(){return function(e){e({type:p}),u.a.get("/admin/dashboard-details").then((function(t){var a;e((a=t.data,{type:g,payload:a}))})).catch((function(e){}))}},N=a(0);var w=function(){var e=Object(h.b)(),t=Object(c.useState)(""),a=Object(l.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(""),b=Object(l.a)(s,2),O=b[0],x=b[1],m=Object(c.useState)(""),f=Object(l.a)(m,2),p=f[0],g=f[1],y=Object(i.g)();return Object(c.useEffect)((function(){e(C())}),[e]),Object(N.jsxs)("div",{className:"login-Container ",children:[Object(N.jsx)("div",{className:"login-header p-3 my-3 bg-light",variant:"dark",children:Object(N.jsx)("h2",{children:" Hello Admin !"})}),Object(N.jsx)("h4",{children:p}),Object(N.jsxs)(d.a,{onSubmit:function(t){t.preventDefault();var a={name:r,password:O};console.log(a),e(v()),u.a.post("/admin/login",a).then((function(t){t.data.response?g(t.data.response):(console.log("okkk"),y("/dashboard"),e(C()))})).catch((function(e){console.log("check error   "+e)}))},children:[Object(N.jsxs)(d.a.Group,{className:"mb-3 input-container",controlId:"formBasicEmail",children:[Object(N.jsx)(d.a.Label,{children:"Enter your username"}),Object(N.jsx)(d.a.Control,{type:"text",placeholder:"Enter username",required:!0,onChange:function(e){return n(e.target.value)}}),Object(N.jsx)(d.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(N.jsxs)(d.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(N.jsx)(d.a.Label,{children:"Password"}),Object(N.jsx)(d.a.Control,{type:"password",placeholder:"Password",required:!0,onChange:function(e){return x(e.target.value)}})]}),Object(N.jsx)("div",{className:"button-container",children:Object(N.jsx)(j.a,{variant:"primary",type:"submit",children:"Sign in"})}),Object(N.jsx)(o.b,{to:"/signup"})]})]})},E=a(15),I=a.n(E),k=a(22),_=a(224),H=a(214),F=a(138),D=a(222);var T=function(){var e=Object(h.b)(),t=Object(i.g)();return Object(c.useEffect)((function(){e(C())}),[e]),Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{git:!0,className:"sidebar",children:[Object(N.jsxs)("div",{className:"logo-details",children:[Object(N.jsx)("i",{className:"bx bxl-c-plus-plus"}),Object(N.jsx)("span",{className:"logo_name",children:"CK SHOP ADMIN"})]}),Object(N.jsxs)("ul",{id:"navLinks",className:"nav-links",children:[Object(N.jsx)("li",{children:Object(N.jsxs)(o.b,{to:"/dashboard",children:[Object(N.jsx)("i",{className:"bx bx-grid-alt"}),Object(N.jsx)("span",{className:"links_name",children:"Dashboard"})]})}),Object(N.jsx)("li",{children:Object(N.jsxs)(o.b,{to:"/category",children:[Object(N.jsx)("i",{className:"bx bx-coin-stack"}),Object(N.jsx)("span",{className:"links_name",children:"Category"})]})}),Object(N.jsx)("li",{children:Object(N.jsxs)(o.b,{to:"/product",children:[Object(N.jsx)("i",{className:"bx bx-box"}),Object(N.jsx)("span",{className:"links_name",children:"Products"})]})}),Object(N.jsx)("li",{children:Object(N.jsxs)(o.b,{to:"/orders",children:[Object(N.jsx)("i",{className:"bx bx-box"}),Object(N.jsx)("span",{className:"links_name",children:"Orders"})]})}),Object(N.jsx)("li",{children:Object(N.jsxs)(o.b,{to:"/offers",children:[Object(N.jsx)("i",{className:"fas fa-percent"})," ",Object(N.jsxs)("span",{className:"links_name",children:["Offers"," & ","coupen"]})]})}),Object(N.jsx)("li",{children:Object(N.jsxs)(o.b,{to:"/sales",children:[Object(N.jsx)("i",{className:"fas fa-balance-scale-left"}),Object(N.jsx)("span",{className:"links_name",children:"Sales"})]})}),Object(N.jsx)("li",{children:Object(N.jsxs)(o.b,{to:"/userManage",children:[Object(N.jsx)("i",{className:"bx bx-user"}),Object(N.jsx)("span",{className:"links_name",children:"User Managment"})]})}),Object(N.jsx)(j.a,{variant:"danger",onClick:function(){u.a.get("/admin/logout").then((function(e){t("/")})).catch((function(e){console.error(e)}))},children:"logout"})]})]}),Object(N.jsx)("nav",{className:"header",children:Object(N.jsx)(_.a,{bg:"light",expand:"lg",children:Object(N.jsxs)(H.a,{children:[Object(N.jsx)(_.a.Brand,{href:"#home"}),Object(N.jsx)(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(N.jsx)(_.a.Collapse,{id:"basic-navbar-nav",children:Object(N.jsxs)(F.a,{className:"me-auto",children:[Object(N.jsx)(F.a.Link,{href:"#home",children:"Home"}),Object(N.jsx)(F.a.Link,{href:"#link",children:"Link"}),Object(N.jsxs)(D.a,{title:"Dropdown",id:"basic-nav-dropdown",children:[Object(N.jsx)(D.a.Item,{href:"#action/3.1",children:"Action"}),Object(N.jsx)(D.a.Item,{href:"#action/3.2",children:"Another action"}),Object(N.jsx)(D.a.Item,{href:"#action/3.3",children:"Something"}),Object(N.jsx)(D.a.Divider,{}),Object(N.jsx)(D.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})})})]})},R="USER_FETCH_REQUEST",A="USER_FETCH_SUCCESS",B="USER_FETCH_ERROR",P=function(){return{type:R}},U=function(e){return{type:A,payload:e}},L=function(e){return{type:B,payload:e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(a){a(P()),u.a.get("/admin/get-user/?keyword=".concat(e,"&pageNumber=").concat(t)).then((function(e){a(U(e.data))})).catch((function(e){a(L)}))}},M=a(30),z=a.n(M),Y=a(215),K=a(78),V=a(216),Q="ORDER_ADD_SUCCESS",q="ORDER_FETCH_SUCCESS",W="ORDER_FETCH_ERROR",$="ORDER_FETCH_REQUEST",J="SALES_REPORT_FETCH_SUCCESS",Z="SALES_REPORT_FETCH_ERROR",X="SALES_REPORT_FETCH_REQUEST",ee=function(e){return{type:J,payload:e}},te=function(e){return{type:Z,payload:e}},ae=function(){return function(e){e({type:$}),u.a.get("/order/all").then((function(t){var a;e((a=t.data,{type:q,payload:a}))})).catch((function(t){e(function(e){return{type:W,payload:e}}(t))}))}},ce=function(e,t){return function(a){a({type:X}),u.a.post("/admin/sales-report/range",{fromDate:e,toDate:t}).then((function(e){a(ee(e.data))})).catch((function(e){a(te(e))}))}},re=function(e){return function(t){t({type:X}),u.a.get("/admin/sales-report/type/".concat(e)).then((function(e){t(ee(e.data)),console.log(e)})).catch((function(e){t(te(e))}))}};var ne=function(){var e=Object(c.useRef)(null);return Object(c.useEffect)(Object(k.a)(I.a.mark((function t(){var a,c,r,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.current.getContext("2d"),t.next=3,u.a.get("/admin/dashboard/chart");case 3:return c=t.sent,r=c.data,n=new window.Chart(a,{type:"line",data:{labels:["Monday","Tuesday","Wendsday","Thursday","Friday","Saturday"],datasets:[{label:"# of Votes",data:r.sales,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}}),t.abrupt("return",(function(){n.destroy()}));case 7:case"end":return t.stop()}}),t)}))),[]),Object(N.jsx)("div",{children:Object(N.jsx)("canvas",{height:"300",ref:e})})};var se=function(){var e=Object(c.useRef)(null);return Object(c.useEffect)(Object(k.a)(I.a.mark((function t(){var a,c,r,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.current.getContext("2d"),t.next=3,u.a.get("/admin/dashboard/chart");case 3:return c=t.sent,r=c.data,console.log(r),n=new window.Chart(a,{type:"pie",data:{labels:["Blocked","Unblocked"],datasets:[{label:"# of Votes",data:r.user,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}),t.abrupt("return",(function(){n.destroy()}));case 8:case"end":return t.stop()}}),t)}))),[]),Object(N.jsx)("div",{children:Object(N.jsx)("canvas",{ref:e})})};var oe=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(),s=Object(l.a)(n,2),i=s[0],d=s[1],j=Object(c.useState)(),b=Object(l.a)(j,2),u=b[0],O=b[1],x=Object(c.useState)(),m=Object(l.a)(x,2),f=m[0],p=m[1],g=Object(c.useState)(),y=Object(l.a)(g,2),v=y[0],C=y[1],w=Object(h.b)(),E=Object(h.c)((function(e){return e.dashboardCount})),_=E.countDetails,H=E.loading,F=Object(h.c)((function(e){return e.order})),D=F.orders,R=F.loading;return Object(c.useEffect)((function(){w(G()),w(S()),w(ae())}),[w]),Object(c.useEffect)(Object(k.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}return e.abrupt("return");case 2:if(r(_.totalSalesAmount),p(_.totalProduct),O(_.totalDeliveryCount),d(_.totalOrders),D){e.next=8;break}return e.abrupt("return");case 8:t=D.splice(0,10),C(t);case 10:case"end":return e.stop()}}),e)}))),[w,_,D]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T,{}),Object(N.jsx)("section",{className:"home-section",children:Object(N.jsxs)("div",{className:"home-content",children:[H?Object(N.jsx)(z.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}):Object(N.jsxs)("div",{className:"overview-boxes",children:[Object(N.jsxs)("div",{className:"box",children:[Object(N.jsxs)("div",{className:"right-side",children:[Object(N.jsx)("div",{className:"box-topic",children:"Total Order"}),Object(N.jsx)("div",{className:"number",children:i}),Object(N.jsxs)("div",{className:"indicator",children:[Object(N.jsx)("i",{className:"bx bx-up-arrow-alt"}),Object(N.jsx)("span",{className:"text",children:"Up from yesterday"})]})]}),Object(N.jsx)("i",{className:"bx bx-cart-alt cart"})]}),Object(N.jsxs)("div",{className:"box",children:[Object(N.jsxs)("div",{className:"right-side",children:[Object(N.jsx)("div",{className:"box-topic",children:"Total Sales"}),Object(N.jsxs)("div",{className:"number",children:["\u20b9",a]}),Object(N.jsxs)("div",{className:"indicator",children:[Object(N.jsx)("i",{className:"bx bx-up-arrow-alt"}),Object(N.jsx)("span",{className:"text",children:"Up from yesterday"})]})]}),Object(N.jsx)("i",{className:"bx bxs-cart-add cart two"})]}),Object(N.jsxs)("div",{className:"box",children:[Object(N.jsxs)("div",{className:"right-side",children:[Object(N.jsx)("div",{className:"box-topic",children:"Total Products"}),Object(N.jsx)("div",{className:"number",children:f}),Object(N.jsxs)("div",{className:"indicator",children:[Object(N.jsx)("i",{className:"bx bx-up-arrow-alt"}),Object(N.jsx)("span",{className:"text",children:"Up from yesterday"})]})]}),Object(N.jsx)("i",{className:"bx bx-cart cart three"})]}),Object(N.jsxs)("div",{className:"box",children:[Object(N.jsxs)("div",{className:"right-side",children:[Object(N.jsx)("div",{className:"box-topic",children:"Total Delivary"}),Object(N.jsx)("div",{className:"number",children:u}),Object(N.jsxs)("div",{className:"indicator",children:[Object(N.jsx)("i",{className:"bx bx-down-arrow-alt down"}),Object(N.jsx)("span",{className:"text",children:"Down From Today"})]})]}),Object(N.jsx)("i",{className:"bx bxs-cart-download cart four"})]})]}),Object(N.jsxs)(Y.a,{className:"sales-boxes m-0",children:[Object(N.jsxs)(K.a,{className:"recent-sales box my-4",children:[Object(N.jsxs)(Y.a,{children:[" ",Object(N.jsx)("h4",{children:" Weekly Sales "})]}),Object(N.jsx)(ne,{})]}),Object(N.jsxs)(K.a,{className:"top-sales box my-4",children:[Object(N.jsxs)(Y.a,{children:[" ",Object(N.jsx)("h4",{children:" User Details"})," "]}),Object(N.jsx)(se,{})]})]}),Object(N.jsx)("div",{className:"sales-boxes",children:Object(N.jsxs)("div",{className:"recent-sales box",children:[Object(N.jsx)("div",{className:"title",children:"Recent Sales"}),Object(N.jsxs)(V.a,{hover:!0,variant:"light",borderless:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Date "}),Object(N.jsx)("th",{children:"Customer"}),Object(N.jsx)("th",{children:"Status"}),Object(N.jsx)("th",{children:"Amount"})]})}),Object(N.jsx)("tbody",{children:R?"":null===v||void 0===v?void 0:v.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.updatedAt}),Object(N.jsx)("td",{children:e.email}),Object(N.jsx)("td",{children:e.orders.orderStatus}),e.orders.isPaid?Object(N.jsx)("td",{style:{color:"green"},children:e.orders.amount}):Object(N.jsx)("td",{style:{color:"red"},children:e.orders.amount})]},e.orders._id)}))})]}),Object(N.jsx)("div",{className:"button",children:Object(N.jsx)(o.b,{to:"/orders",children:"See All"})})]})})]})})]})},ie=a(217),le=a(119),de=a(14),je=a.n(de),be=a(45),ue=a(228);var he=function(e){var t=e.page,a=e.pages,c=e.keyword,r=void 0===c?"":c,n=Object(i.g)();return a>1&&Object(N.jsx)(ue.a,{children:Object(be.a)(Array(a).keys()).map((function(e){return Object(N.jsx)(F.a.Link,{onClick:function(){return n(r?"/userSearch/".concat(r,"/page/").concat(e+1):"/userManage/page/".concat(e+1))},children:Object(N.jsx)(ue.a.Item,{active:e+1===t,children:e+1})},e+1)}))})};var Oe=function(){var e=Object(i.h)().keyword,t=(Object(i.h)()||1).pageNumber,a=Object(h.b)(),r=Object(c.useState)(""),n=Object(l.a)(r,2),s=n[0],d=n[1],b=Object(c.useState)(""),O=Object(l.a)(b,2),x=O[0],m=O[1],f=Object(h.c)((function(e){return e.user})),p=f.users,g=f.page,y=f.pages;function v(e){var t=e.target.id;u.a.get("/admin//user-block/".concat(t)).then((function(e){e.data.status&&je()("Success").then((function(e){a(G())}))})).catch((function(e){console.log(e)}))}return Object(c.useEffect)((function(){a(G(e,t)),e&&m(e)}),[a,e,t]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T,{}),Object(N.jsx)(H.a,{children:Object(N.jsx)("div",{className:"table-Container",children:Object(N.jsxs)(Y.a,{children:[Object(N.jsx)(K.a,{className:"mt-4",sm:12,md:6,children:Object(N.jsxs)(ie.a,{children:[Object(N.jsx)(le.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",onChange:function(e){d(e.target.value)}}),Object(N.jsx)(j.a,{as:o.b,to:"/userSearch/".concat(s),variant:"outline-success",children:"Search"})]})}),Object(N.jsxs)(K.a,{sm:12,md:8,className:"mx-auto mt-5",children:[e&&Object(N.jsxs)("h5",{className:"mb-3",children:["search result for ",x," "]}),Object(N.jsxs)(V.a,{striped:!0,bordered:!0,hover:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Name"}),Object(N.jsx)("th",{children:"Email"}),Object(N.jsx)("th",{children:"Phone"}),Object(N.jsx)("th",{children:"Action"})]})}),Object(N.jsx)("tbody",{children:p.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t+1}),Object(N.jsx)("td",{children:e.name}),Object(N.jsx)("td",{children:e.email}),Object(N.jsx)("td",{children:e.phone}),Object(N.jsxs)("td",{children:[" ",Object(N.jsxs)(j.a,{variant:"warning",id:e._id,onClick:v,children:[" ",e.isActive?"Block":"Unblock"]})," "]})]},e._id)}))})]})]}),Object(N.jsx)(he,{page:g,pages:y,keyword:e||""})]})})}),")"]})},xe=a(218),me=a(230),fe=a(219),pe="CATEGORY_FETCH_REQUEST",ge="CATEGORY_FETCH_SUCCESS",ye="CATEGORY_FETCH_ERROR",ve=function(){return function(e){e({type:pe}),u.a.get("/admin/category").then((function(t){var a;e((a=t.data,{type:ge,payload:a}))})).catch((function(t){var a;e({type:ye,payload:a})}))}},Ce=a(226);var Se=function(e){var t=e.setNewSubCat,a=e.handleClose,c=e.newsubCat,r=e.show,n=e.editHandler;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Ce.a,{show:r,onHide:a,backdrop:"static",keyboard:!1,children:[Object(N.jsx)(Ce.a.Header,{closeButton:!0,children:Object(N.jsx)(Ce.a.Title,{children:"Modal title"})}),Object(N.jsx)(Ce.a.Body,{children:Object(N.jsxs)(d.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(N.jsx)(d.a.Label,{children:"Enter category"}),Object(N.jsx)(d.a.Control,{value:c,onChange:function(e){t(e.target.value)},type:"text",placeholder:"Enter new category name"})]})}),Object(N.jsxs)(Ce.a.Footer,{children:[Object(N.jsx)(j.a,{variant:"secondary",onClick:a,children:"Close"}),Object(N.jsx)(j.a,{variant:"primary",onClick:n,children:"Understood"})]})]})})};var Ne=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(h.b)(),s=Object(c.useState)(""),o=Object(l.a)(s,2),i=o[0],b=(o[1],Object(c.useState)([])),O=Object(l.a)(b,2),x=O[0],m=O[1],f=Object(c.useState)(""),p=Object(l.a)(f,2),g=p[0],y=p[1],v=Object(h.c)((function(e){return e.category})).category,C=Object(c.useState)(""),S=Object(l.a)(C,2),w=S[0],E=S[1],I=Object(c.useState)(""),k=Object(l.a)(I,2),_=k[0],H=k[1],F=Object(c.useState)(""),D=Object(l.a)(F,2),T=D[0],R=D[1],A=Object(c.useState)(!1),B=Object(l.a)(A,2),P=B[0],U=B[1],L=function(){return U(!1)},G=function(e){U(!0),H(e.target.id),R(e.target.id),console.log(g)};function M(e){var t=e.target.id;console.log(t),je()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this Category!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?u.a.post("/admin//category/sub/delete",{_id:g,subCat:t}).then((function(e){e.data&&(n(ve()),je()("Category has been deleted!",{icon:"success"}))})):je()("Category is safe!")}))}return Object(c.useEffect)((function(){n(ve())}),[n,i]),Object(N.jsxs)("div",{children:[Object(N.jsx)(Se,{setNewSubCat:H,newsubCat:_,show:P,handleClose:L,editHandler:function(e){console.log(g),u.a.post("/admin/category/sub/edit/",{_id:g,subCat:T,newsubCat:_}).then((function(e){e.data.response&&(je()(e.data.response,{icon:"fail"}),L()),e.data?(n(ve()),je()("Category has been edited!",{icon:"success"}),L()):(n(ve()),je()("Editing Fail!",{icon:"fail"}),L())}))}}),Object(N.jsxs)(Y.a,{className:"align-items-center",children:[Object(N.jsx)("h2",{children:"Category List"}),Object(N.jsxs)("div",{className:"table-Container",children:[Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(d.a.Group,{as:K.a,sm:12,md:6,controlId:"formsubCategory",children:[Object(N.jsx)(d.a.Label,{children:"Select Category"}),Object(N.jsx)(d.a.Select,{placeholder:"select category",className:"mb-3",onChange:function(e){r(!0);var t=v.find((function(t){return t.category===e.target.value}));t&&y(t._id),t&&m(t.subCat),t&&r(!1)},children:v&&v.map((function(e,t){return Object(N.jsx)("option",{id:e._id,children:e.category},t)}))})]}),Object(N.jsx)("h4",{children:w})]}),Object(N.jsxs)(K.a,{sm:12,md:8,className:"mx-auto mt-5",children:[a?Object(N.jsx)(z.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}):Object(N.jsxs)(V.a,{striped:!0,bordered:!0,hover:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Sub category"}),Object(N.jsx)("th",{children:"Action"})]})}),Object(N.jsx)("tbody",{children:x&&x.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t}),Object(N.jsx)("td",{children:e}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"table-icons",children:[Object(N.jsx)("i",{className:"fas fa-trash-alt",id:e,onClick:M}),Object(N.jsx)("i",{className:"fas fa-edit",id:e,onClick:G})]})})]},t)}))})]}),Object(N.jsxs)("div",{className:"add-new mx-3",children:[Object(N.jsx)("input",{name:"subCat",placeholder:"Enter new category",onChange:function(e){R(e.target.value)}}),Object(N.jsx)(j.a,{variant:"success",onClick:function(){if(!T)return E("Select a category");u.a.post("/admin/category/sub/add",{_id:g,subCat:T}).then((function(e){e.data.response&&je()(e.data.response),!0===e.data&&(je()("Added successfully"),E(""),n(ve()))}))},children:"Add new Category"})]})]})]})]})]})},we={nameInputBlurHandler:function(e,t){""===e?t("This field cannot be empty!"):e.length<4?t("This field should have atleast 4 charecters."):" "===e.slice(-1)?t("should not end with space."):t("")},nameInputChangeHandler:function(e,t){0===e.length?t("This field cannot be empty!"):" "===e.charAt(0)?t("should not start with space."):e.includes("  ")?t("should not contain consecutive spaces."):/\d/.test(e)?t("should not contain numbers."):e.match(/^[a-zA-Z ]+$/)?""===e?t("This field cannot be empty!"):e.length<4?t("This field should have atleast 4 charecters."):" "===e.slice(-1)?t("should not end with space."):t(""):t("Invalid charecter!")},emailInputBlurHandler:function(e,t){""===e?t("This field cannot be empty!"):e.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?t(""):t("This email id is not valid.")},emailInputChangeHandler:function(e,t){e.includes(" ")?t("Email id should not contain space."):t("")},phoneInputBlurHandler:function(e){return""===e?"This field cannot be empty!":e.length<10?"Phone number does not have 10 digits":e.length>10?"Phone number has more than 10 digits":null},phoneInputChangeHandler:function(e,t){return e.match(/^\d{10}$/)||""===e?e.length>10?"Phone number has more than 10 digits":null:"Enter numbers only!"},passwordInputBlurHandler:function(e,t){""===e?t("This field cannot be empty!"):e.length<5?t("password should have atleast 5 charecters"):e.length>20?t("password should not exceed 20 characters"):t("")},passwordInputChangeHandler:function(e,t){e.length>20?t("password should not exceed 20 characters"):t("")},addressInputBlurHandler:function(e,t){""===e?t("This field cannot be empty!"):e.length<4?t("This field should have atleast 4 charecters."):" "===e.slice(-1)?t("This field should not end with space."):t("")},addressInputChangeHandler:function(e,t){0===e.length?t(""):" "===e.charAt(0)?t("should not start with space."):e.length<4?t("This field should have atleast 4 charecters."):e.includes("  ")?t("should not contain consecutive spaces."):" "===e.slice(-1)?t("This field should not end with space."):t("")},postalCodeInputBlurHandler:function(e,t){""===e?t("This field cannot be empty!"):6!==e.length?t("Postal Code should have 6 digits"):t("")},postalCodeInputChangeHandler:function(e,t){""===e?t("This field cannot be empty!"):e.match(/^\d{6}$/)||""===e?e.length>6?t("postalCode should not have more than 6 digits"):t(""):t("Enter numbers only!")},priceInputBlurHandler:function(e,t){""===e?t("This field cannot be empty!"):Number(e)<0?t("Negative numbers are not allowed"):t("")},priceInputChangeHandler:function(e,t){""===e?t("This field cannot be empty!"):e.match(/^\d+(,\d{1,2})?$/)?t(""):t("Enter a valid number!")},percentageInputBlurHandler:function(e,t){""===e?t("This field cannot be empty!"):Number(e)<0?t("Negative numbers are not allowed"):t("")},percentageInputChangeHandler:function(e,t){""===e?t("This field cannot be empty!"):e.match(/(^100(\.0{1,2})?$)|(^([1-9]([0-9])?|0)(\.[0-9]{1,2})?$)/g)?t(""):t("Enter a valid percentage!")}};var Ee=function(e){e.oldCategory;var t=e.nameError,a=e.setError,c=e.handleClose,r=e.setNewCategory,n=e.show,s=e.editHandler,o=e.newCategory;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Ce.a,{show:n,onHide:c,backdrop:"static",keyboard:!1,children:[Object(N.jsx)(Ce.a.Header,{closeButton:!0,children:Object(N.jsx)(Ce.a.Title,{children:"Edit Category"})}),Object(N.jsx)(Ce.a.Body,{children:Object(N.jsxs)(d.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(N.jsx)(d.a.Label,{children:"Enter category"}),Object(N.jsx)(d.a.Control,{value:o,onChange:function(e){we.nameInputChangeHandler(e.target.value,a),r(e.target.value)},onBlur:function(e){we.nameInputBlurHandler(e.target.value,a)},type:"text",placeholder:"Enter new category name"}),Object(N.jsx)("p",{style:{color:"red"},children:t})]})}),Object(N.jsxs)(Ce.a.Footer,{children:[Object(N.jsx)(j.a,{variant:"secondary",onClick:c,children:"Close"}),Object(N.jsx)(j.a,{variant:"primary",disabled:t,onClick:s,children:"Save"})]})]})})},Ie=a(227),ke=a(229);var _e=function(e){var t=e.offerName,a=e.expiryDate,c=e.percentage,r=e.offerShow,n=e.offerHandleClose,s=e.viewMode,o=e.applyOfferHandler,i=e.removeOfferHandler,l=e.offerId,b=e.showOfferHandler,u=e.offers;return e.category,Object(N.jsxs)(Ce.a,{show:r,onHide:n,backdrop:"static",keyboard:!1,children:[Object(N.jsx)(Ce.a.Header,{closeButton:!0,children:Object(N.jsx)(Ce.a.Title,{children:s?"Offer":"Apply offer"})}),Object(N.jsxs)(Ce.a.Body,{children:[!s&&Object(N.jsx)(d.a.Select,{size:"sm",onChange:b,children:u?u.map((function(e,t){return Object(N.jsx)("option",{children:e.offerName},t)})):Object(N.jsx)(Ie.a,{as:"p",animation:"glow",children:Object(N.jsx)(Ie.a,{xs:12})})}),Object(N.jsxs)(ke.a,{className:"my-3",children:[Object(N.jsxs)(ke.a.Item,{className:"d-flex justify-content-between",children:[Object(N.jsx)("h6",{children:"Offer Name"}),Object(N.jsx)("p",{children:t})]}),Object(N.jsxs)(ke.a.Item,{className:"d-flex justify-content-between",children:[Object(N.jsx)("h6",{children:"Expiry Date"}),Object(N.jsx)("p",{children:a})]}),Object(N.jsxs)(ke.a.Item,{className:"d-flex justify-content-between",children:[Object(N.jsx)("h6",{children:"Discount(%)"}),Object(N.jsxs)("p",{children:[c,"%"]})]})]})]}),Object(N.jsxs)(Ce.a.Footer,{children:[Object(N.jsx)(j.a,{variant:"secondary",onClick:n,children:"Close"}),s?Object(N.jsx)(j.a,{variant:"danger",id:l,onClick:i,children:"Remove Offer"}):Object(N.jsx)(j.a,{variant:"primary",id:l,onClick:o,children:"Apply offer"})]})]})},He={dateFormatter:function(e){var t=new Date(e),a=t.getDate(),c=t.getMonth()+1,r=t.getFullYear();return a<10&&(a="0"+a),c<10&&(c="0"+c),"".concat(a,"-").concat(c,"-").concat(r)}},Fe=a(18),De=a.n(Fe),Te="PRODUCT_FETCH_REQUEST",Re="PRODUCT_FETCH_SUCCESS",Ae="PRODUCT_FETCH_ERROR",Be=function(){return function(e){e({type:Te}),u.a.get("/admin/product/").then((function(t){var a;e((a=t.data,{type:Re,payload:a}))})).catch((function(t){e({type:Ae,payload:t})}))}},Pe="OFFER_ADD_SUCCESS",Ue="OFFER_FETCH_SUCCESS",Le="OFFER_FETCH_ERROR",Ge="OFFER_FETCH_REQUEST",Me="COUPEN_ADD_SUCCESS",ze="COUPEN_FETCH_SUCCESS",Ye="COUPEN_FETCH_ERROR",Ke="COUPEN_FETCH_REQUEST",Ve=function(){return{type:Ge}},Qe=function(e){return console.log(e),{type:Pe,payload:e}},qe=function(e){return{type:Le,payload:e}},We=function(){return function(e){e(Ve()),u.a.get("/offer").then((function(t){var a;e((a=t.data,{type:Ue,payload:a}))})).catch((function(t){e(qe(t))}))}},$e=function(e){return{type:Ye,payload:e}},Je=function(){return function(e){e({type:Ke}),u.a.get("/offer/coupen/").then((function(t){var a;e((a=t.data,{type:ze,payload:a}))})).catch((function(t){e($e(t))}))}};var Ze=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(h.c)((function(e){return e.category})),s=n.category,o=n.loading,i=Object(h.c)((function(e){return e.offer})).offers,d=Object(c.useState)(!1),b=Object(l.a)(d,2),O=b[0],x=b[1],m=Object(c.useState)(""),f=Object(l.a)(m,2),p=f[0],g=f[1],y=Object(c.useState)(""),v=Object(l.a)(y,2),C=v[0],S=v[1],w=Object(c.useState)(""),E=Object(l.a)(w,2),_=E[0],F=E[1],D=Object(c.useState)(""),R=Object(l.a)(D,2),A=R[0],B=R[1],P=Object(c.useState)(!1),U=Object(l.a)(P,2),L=U[0],G=U[1],M=Object(c.useState)(!1),Q=Object(l.a)(M,2),q=Q[0],W=Q[1],$=Object(c.useState)(),J=Object(l.a)($,2),Z=J[0],X=J[1],ee=Object(c.useState)(),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],re=Object(c.useState)(),ne=Object(l.a)(re,2),se=ne[0],oe=ne[1],ie=Object(c.useState)(),le=Object(l.a)(ie,2),de=le[0],be=le[1],ue=Object(c.useState)(),he=Object(l.a)(ue,2),Oe=he[0],pe=he[1],ge=Object(c.useState)(),ye=Object(l.a)(ge,2),Ce=ye[0],Se=ye[1],we=Object(h.b)(),Ie=function(){return x(!1)},ke=function(e){x(!0),S(e.target.id),g(e.target.id),console.log(e.target.id)};function Fe(e){var t=e.target.id;Se(t),W(!0);var a=s.find((function(e){return e.category===t})).offer,c=a.offerName,r=a.expiryDate,n=a.percentage;X(c),ce(n),oe(He.dateFormatter(r)),console.log(a),Re()}var Te=function(){W(!1),G(!1)},Re=function(){return G(!0)};function Ae(e){var t=e.target.id;B(t),Re()}function Pe(){return Pe=Object(k.a)(I.a.mark((function e(t){var a,c,r,n,s,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i.find((function(e){return e.offerName===t.target.value})),c=a.offerName,r=a.percentage,n=a.expiryDate,s=a._id,o=He.dateFormatter(n),X(c),ce(r),oe(o),be(s);case 7:case"end":return e.stop()}}),e)}))),Pe.apply(this,arguments)}function Ue(e){var t=e.target.id;console.log(t),je()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this Category!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?u.a.get("/admin/category/delete/".concat(t)).then((function(e){e.data&&(we(ve()),je()("Category has been deleted!",{icon:"success"}))})):je()("Category is safe!")}))}return Object(c.useEffect)((function(){we(We()),we(ve())}),[we]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T,{}),Object(N.jsx)("div",{className:"home-section",children:Object(N.jsxs)(H.a,{children:[Object(N.jsx)(_e,{showOfferHandler:function(e){return Pe.apply(this,arguments)},offers:i,offerHandleClose:Te,viewMode:q,offerShow:L,offerName:Z,percentage:ae,warning:Oe,applyOfferHandler:function(e){if(!de)return pe("Select a offer");u.a.post("/offer/applyCategoryOffer",{offeredCategory:A,offerId:de}).then((function(e){return e.data.warning?De.a.fire(e.data.warning):e.data?(De.a.fire({position:"top-end",icon:"success",title:e.data.response,showConfirmButton:!1,timer:1500}),we(ve()),we(Be()),Te()):void 0})).catch((function(e){console.error("this is apply offer arror  "+e)}))},offerId:de,expiryDate:se,category:s,removeOfferHandler:function(){De.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then((function(e){e.isConfirmed&&u.a.get("/offer/removeOffer/category/".concat(Ce)).then((function(e){return e.data.response?(De.a.fire(e.data.response),we(Be()),we(ve()),Te()):e.data.warning?(De.a.fire(e.data.warning),Te()):void 0}))}))}}),Object(N.jsx)(Ee,{setNewCategory:g,nameError:_,setError:F,oldCategory:C,newCategory:p,show:O,handleClose:Ie,editHandler:function(){u.a.post("/admin/category/edit",{oldCategory:C,newCategory:p}).then((function(e){e.data.response&&je()(e.data.response),!0===e.data&&(Ie(),je()("Added successfully"),we(ve()))}))}}),Object(N.jsxs)(xe.a,{defaultActiveKey:"Category",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(N.jsx)(me.a,{eventKey:"Category",title:"Home",children:Object(N.jsxs)(Y.a,{className:"align-items-center",children:[Object(N.jsx)("h2",{children:"Category List"}),Object(N.jsx)("div",{className:"table-Container",children:Object(N.jsxs)(K.a,{sm:12,md:8,className:"mx-auto mt-5",children:[o?Object(N.jsx)(z.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3}):Object(N.jsxs)(V.a,{striped:!0,bordered:!0,hover:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Category"}),Object(N.jsx)("th",{children:"Sub category"}),Object(N.jsx)("th",{children:"Action"})]})}),Object(N.jsx)("tbody",{children:s.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t+1}),e.isOffer?Object(N.jsxs)("td",{children:[" ",e.category," ",Object(N.jsx)(fe.a,{style:{cursor:"pointer"},className:"me-auto",bg:"success",id:e.category,onClick:Fe,children:"Show offer"})]}):Object(N.jsxs)("td",{children:[" ",e.category]}),Object(N.jsx)("td",{children:null===e||void 0===e?void 0:e.subCat.length}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{className:"table-icons",children:[Object(N.jsx)("i",{className:"fas fa-trash-alt ",id:e._id,onClick:Ue}),Object(N.jsx)("i",{className:"fas fa-edit",onClick:ke,id:e.category}),Object(N.jsx)("i",{className:"fas fa-tag",onClick:Ae,id:e.category})]})})]},e._id)}))})]}),Object(N.jsxs)("div",{className:"add-new mx-3",children:[Object(N.jsx)("input",{name:"category",placeholder:"Enter new category",onChange:function(e){r(e.target.value)}}),Object(N.jsx)(j.a,{variant:"success",onClick:function(){u.a.post("/admin/category/add",{categoryName:a}).then((function(e){console.log(e.data.response),e.data.response&&je()(e.data.response),!0===e.data&&(je()("Added successfully"),we(ve()))}))},children:"Add new Category"})]})]})})]})}),Object(N.jsx)(me.a,{eventKey:"profile",title:"sub category",children:Object(N.jsx)(Ne,{})})]})]})})]})},Xe=a(120),et=a(220),tt=a(221),at=a(123);a(203);var ct=function(e){var t=e.editImageShow,a=e.seteditImageShow,r=e.ShowImageHandler,n=(e.cropData,e.setCropData,e.cropper,e.setCropper),s=(e.getCropData,Object(c.useState)("")),o=Object(l.a)(s,2),i=o[0],b=o[1];return Object(N.jsxs)(Ce.a,{size:"lg",show:t,backdrop:"static",onHide:function(){return a(!1)},"aria-labelledby":"example-modal-sizes-title-lg",children:[Object(N.jsx)(Ce.a.Header,{closeButton:!0,children:Object(N.jsx)(Ce.a.Title,{id:"example-modal-sizes-title-lg",children:"Select your image"})}),Object(N.jsx)(Ce.a.Body,{children:Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{style:{width:"100%"},children:[Object(N.jsxs)(d.a.Group,{className:"position-relative mb-3",children:[Object(N.jsx)(d.a.Label,{children:"File"}),Object(N.jsx)(d.a.Control,{accept:"image/*",type:"file",required:!0,name:"file",onChange:function(e){var t;e.preventDefault(),e.dataTransfer?t=e.dataTransfer.files:e.target&&(t=e.target.files);var a=new FileReader;a.onload=function(){b(a.result)},a.readAsDataURL(t[0])}})]}),Object(N.jsx)(at.a,{style:{height:400,width:"100%"},zoomTo:.5,aspectRatio:3/4,preview:".img-preview",src:i,viewMode:1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){n(e)},guides:!0})]}),Object(N.jsx)("div",{children:Object(N.jsx)(j.a,{style:{float:"right"},onClick:r,children:"Save"})}),Object(N.jsx)("br",{style:{clear:"both"}})]})})]})};function rt(e,t,a,c,r,n){var s;e(!1),t(!0),(s=n,new Promise(function(){var e=Object(k.a)(I.a.mark((function e(t,a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.post("/admin/product/uploadImage",{image:s}).then((function(e){return t(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())).then((function(n){a(n),c(n.img),t(!1),r(!1),e(!0)}))}var nt=function(){var e=Object(h.b)(),t=Object(c.useState)(""),a=Object(l.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(""),o=Object(l.a)(s,2),i=o[0],b=o[1],O=Object(c.useState)(""),x=Object(l.a)(O,2),m=x[0],f=x[1],p=Object(c.useState)(0),g=Object(l.a)(p,2),y=g[0],v=g[1],C=Object(c.useState)(""),S=Object(l.a)(C,2),w=S[0],E=S[1],I=Object(c.useState)(1),k=Object(l.a)(I,2),_=k[0],H=k[1],F=Object(c.useState)(1),D=Object(l.a)(F,2),T=D[0],R=D[1],A=Object(c.useState)(1),B=Object(l.a)(A,2),P=B[0],U=B[1],L=Object(c.useState)(0),G=Object(l.a)(L,2),M=G[0],z=(G[1],Object(c.useState)("")),V=Object(l.a)(z,2),Q=V[0],q=V[1],W=Object(c.useState)(""),$=Object(l.a)(W,2),J=$[0],Z=$[1],X=Object(h.c)((function(e){return e.category})).category,ee=Object(c.useState)(!1),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],re=Object(c.useState)(),ne=Object(l.a)(re,2),se=ne[0],oe=ne[1],ie=Object(c.useState)("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),le=Object(l.a)(ie,2),de=le[0],be=le[1],ue=Object(c.useState)("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),he=Object(l.a)(ue,2),Oe=he[0],xe=he[1],me=Object(c.useState)("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),fe=Object(l.a)(me,2),pe=fe[0],ge=fe[1],ye=Object(c.useState)("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),Ce=Object(l.a)(ye,2),Se=Ce[0],Ne=Ce[1],Ee=Object(c.useState)(""),ke=Object(l.a)(Ee,2),_e=ke[0],He=ke[1],Fe=Object(c.useState)(""),De=Object(l.a)(Fe,2),Te=De[0],Re=De[1],Ae=Object(c.useState)(""),Pe=Object(l.a)(Ae,2),Ue=Pe[0],Le=Pe[1],Ge=Object(c.useState)(""),Me=Object(l.a)(Ge,2),ze=Me[0],Ye=Me[1],Ke=Object(c.useState)(!1),Ve=Object(l.a)(Ke,2),Qe=Ve[0],qe=Ve[1],We=Object(c.useState)(!1),$e=Object(l.a)(We,2),Je=$e[0],Ze=$e[1],at=Object(c.useState)(!1),nt=Object(l.a)(at,2),st=nt[0],ot=nt[1],it=Object(c.useState)(!1),lt=Object(l.a)(it,2),dt=lt[0],jt=lt[1],bt=Object(c.useState)(!1),ut=Object(l.a)(bt,2),ht=ut[0],Ot=ut[1],xt=Object(c.useState)(!1),mt=Object(l.a)(xt,2),ft=mt[0],pt=mt[1],gt=Object(c.useState)(!1),yt=Object(l.a)(gt,2),vt=yt[0],Ct=yt[1],St=Object(c.useState)(!1),Nt=Object(l.a)(St,2),wt=Nt[0],Et=Nt[1],It=Object(c.useState)(!1),kt=Object(l.a)(It,2),_t=kt[0],Ht=kt[1],Ft=Object(c.useState)(!1),Dt=Object(l.a)(Ft,2),Tt=Dt[0],Rt=Dt[1],At=Object(c.useState)(!1),Bt=Object(l.a)(At,2),Pt=Bt[0],Ut=Bt[1],Lt=Object(c.useState)(!1),Gt=Object(l.a)(Lt,2),Mt=Gt[0],zt=Gt[1],Yt=Object(c.useState)(!1),Kt=Object(l.a)(Yt,2),Vt=Kt[0],Qt=Kt[1],qt=Object(c.useState)(!1),Wt=Object(l.a)(qt,2),$t=Wt[0],Jt=Wt[1],Zt=Object(c.useState)(!1),Xt=Object(l.a)(Zt,2),ea=Xt[0],ta=Xt[1],aa=Object(c.useState)(!1),ca=Object(l.a)(aa,2),ra=ca[0],na=ca[1],sa=function(e,t){"undefined"!==typeof se&&e(se.getCroppedCanvas().toDataURL())};return Object(c.useEffect)((function(){e(ve())}),[e]),Object(N.jsxs)("div",{className:"addProductForm ",children:[Object(N.jsx)(ct,{editImageShow:Qe,seteditImageShow:qe,ShowImageHandler:function(){sa(be),Ot(!0),qe(!1)},setCropper:oe}),Object(N.jsx)(ct,{editImageShow:Je,seteditImageShow:Ze,ShowImageHandler:function(){sa(xe),pt(!0),Ze(!1)},setCropper:oe}),Object(N.jsx)(ct,{editImageShow:st,seteditImageShow:ot,ShowImageHandler:function(){sa(ge),Ct(!0),ot(!1)},setCropper:oe}),Object(N.jsx)(ct,{editImageShow:dt,seteditImageShow:jt,ShowImageHandler:function(){sa(Ne),Et(!0),jt(!1)},setCropper:oe}),Object(N.jsx)(Y.a,{children:Object(N.jsx)(K.a,{sm:12,className:"text-align-center",children:Object(N.jsx)("h1",{variant:"border-primary",children:"Add Product"})})}),Object(N.jsx)(d.a,{onSubmit:function(t){if(t.preventDefault(),""===r||""===i||""===m||""===y||""===w)return q("Fill all fields");if(!_e||!Te||!Ue||!ze)return q("Upload all images");var a={name:r,category:i,subCat:m,price:y,description:w,small:_,medium:P,large:T,imageUrl:[_e,Te,Ue,ze]};ce(!0),u.a.post("/admin/product/add",a).then((function(t){t.data.response?(q(t.data.response),ce(!1)):t.data&&(e(Be()),n(""),b(""),v(),E(""),H(0),U(0),R(0),be("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),xe("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),ge("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),Ne("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),je()("Success","product added sucessfully","success"),q(""),ce(!1),Qt(!1))}))},children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(K.a,{sm:12,md:6,children:[Object(N.jsx)(Y.a,{className:"mb-3",children:Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formGridEmail",children:[Object(N.jsx)(d.a.Label,{children:"Product Name"}),Object(N.jsx)(d.a.Control,{type:"text",placeholder:"Enter product name",value:r,onChange:function(e){n(e.target.value)}})]})}),Object(N.jsxs)(Y.a,{className:"mb-3",children:[Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formCategory",children:[Object(N.jsx)(d.a.Label,{children:"Select category"}),Object(N.jsxs)(d.a.Select,{value:i,onChange:function(t){if(""===t.target.value||null===t.target.value)return q("Invalid entry");b(t.target.value),e(ve());var a=X.find((function(e){return e.category===t.target.value}));a&&Z(a.subCat)},defaultValue:"Category",children:[Object(N.jsx)("option",{defaultValue:!0,children:"select Category"}),X?X.map((function(e){return Object(N.jsx)("option",{id:e._id,children:e.category},e._id)})):Object(N.jsx)("option",{children:"Category"})]})]}),Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formsubCategory",children:[Object(N.jsx)(d.a.Label,{children:"sub category"}),Object(N.jsx)(d.a.Select,{value:m,onChange:function(e){f(e.target.value)},children:J&&J.map((function(e,t){return Object(N.jsx)("option",{children:e},t)}))})]})]}),Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formPrice",className:"mb-3",children:[Object(N.jsx)(d.a.Label,{children:"Enter Price"}),Object(N.jsx)(d.a.Control,{value:y,min:1,onChange:function(e){v(e.target.value),we.priceInputBlurHandler(e.target.value,q)},type:"text"})]}),Object(N.jsxs)(d.a.Group,{className:"mb-3",controlId:"formGridDesciption",children:[Object(N.jsx)(d.a.Label,{children:"Enter description"}),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Xe.a,{controlId:"floatingTextarea2",label:"Enter a description",children:Object(N.jsx)(d.a.Control,{value:w,onChange:function(e){E(e.target.value)},as:"textarea",placeholder:"Enter a description",style:{height:"100px"}})})})]})]}),Object(N.jsxs)(K.a,{sm:12,md:6,children:[Object(N.jsx)("h4",{children:"Enter size available"}),Object(N.jsxs)(Y.a,{className:"mb-3",children:[Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formSmall",children:[Object(N.jsx)(d.a.Label,{children:"small"}),Object(N.jsx)(d.a.Control,{value:_,min:0,type:"number",onChange:function(e){H(e.target.value)}})]}),Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formLarge",children:[Object(N.jsx)(d.a.Label,{children:"Medium"}),Object(N.jsx)(d.a.Control,{value:P,min:0,type:"number",onChange:function(e){U(e.target.value)}})]}),Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formGridZip",children:[Object(N.jsx)(d.a.Label,{children:"Large"}),Object(N.jsx)(d.a.Control,{value:T,min:0,type:"number",onChange:function(e){R(e.target.value)}})]})]}),Object(N.jsxs)("h5",{children:["Total quantity: ",M]}),Object(N.jsxs)(Y.a,{children:[Object(N.jsx)(K.a,{sm:12,md:6,className:"mb-3",children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(K.a,{className:"d-flex",children:[Object(N.jsx)(et.a,{src:de,className:"image_preview mb-3",alt:"productimage",fluid:!0}),Vt&&Object(N.jsxs)("h4",{style:{color:"green"},children:[" ",Object(N.jsx)("i",{className:"fas fa-check"})]}),Object(N.jsx)("h6",{className:"m-3",children:" Image 1"})]}),_t?Object(N.jsx)(Ie.a,{as:"p",animation:"glow",children:Object(N.jsx)(Ie.a,{xs:12,bg:"danger",size:"lg"})}):ht?Object(N.jsx)(j.a,{variant:"danger",onClick:function(){rt(Qt,Ht,He,be,Ot,de)},className:"my-3",children:"Upload Image 1"}):Object(N.jsx)(j.a,{variant:"danger",onClick:function(){qe(!0)},className:"my-3",children:" Select Image 1"})]})}),Object(N.jsx)(K.a,{sm:12,md:6,className:"mb-3",children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(K.a,{className:"d-flex",children:[Object(N.jsx)(et.a,{src:Oe,className:"image_preview mb-3",alt:"productimage",fluid:!0}),$t&&Object(N.jsxs)("h4",{style:{color:"green"},children:[" ",Object(N.jsx)("i",{className:"fas fa-check"})]}),Object(N.jsx)("h6",{className:"m-3",children:" Image 2"})]}),Tt?Object(N.jsx)(Ie.a,{as:"p",animation:"glow",children:Object(N.jsx)(Ie.a,{xs:12,bg:"danger",size:"lg"})}):ft?Object(N.jsx)(j.a,{variant:"danger",onClick:function(){rt(Jt,Rt,Re,xe,pt,Oe)},className:"my-3",children:"Upload Image 2"}):Object(N.jsx)(j.a,{variant:"danger",onClick:function(){Ze(!0)},className:"my-3",children:" Select Image 2"})]})}),Object(N.jsx)(K.a,{sm:12,md:6,className:"mb-3",children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(K.a,{className:"d-flex",children:[Object(N.jsx)(et.a,{src:pe,className:"image_preview mb-3",alt:"productimage",fluid:!0}),ea&&Object(N.jsxs)("h4",{style:{color:"green"},children:[" ",Object(N.jsx)("i",{className:"fas fa-check"})]}),Object(N.jsx)("h6",{className:"m-3",children:" Image 3"})]}),Pt?Object(N.jsx)(Ie.a,{as:"p",animation:"glow",children:Object(N.jsx)(Ie.a,{xs:12,bg:"danger",size:"lg"})}):vt?Object(N.jsx)(j.a,{variant:"danger",onClick:function(){rt(ta,Ut,Le,ge,Ct,pe)},className:"my-3",children:"Upload Image 3"}):Object(N.jsx)(j.a,{variant:"danger",onClick:function(){ot(!0)},className:"my-3",children:" Select Image 3"})]})}),Object(N.jsx)(K.a,{sm:12,md:6,className:"mb-3",children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(K.a,{className:"d-flex",children:[Object(N.jsx)(et.a,{src:Se,className:"image_preview mb-3",alt:"productimage",fluid:!0}),ra&&Object(N.jsxs)("h4",{style:{color:"green"},children:[" ",Object(N.jsx)("i",{className:"fas fa-check"})]}),Object(N.jsx)("h6",{className:"m-3",children:" Image 4"})]}),Mt?Object(N.jsx)(Ie.a,{as:"p",animation:"glow",children:Object(N.jsx)(Ie.a,{xs:12,bg:"danger",size:"lg"})}):wt?Object(N.jsx)(j.a,{variant:"danger",onClick:function(){rt(na,zt,Ye,Ne,Et,Se)},className:"my-3",children:"Upload Image 4"}):Object(N.jsx)(j.a,{variant:"danger",onClick:function(){jt(!0)},className:"my-3",children:" Select Image 4"})]})})]}),ae?Object(N.jsx)(tt.a,{animation:"border"}):Object(N.jsx)(j.a,{variant:"primary",type:"submit",children:"Add new product"}),Object(N.jsx)("h5",{className:"warning-text  mt-3",children:Q})]})]})})]})};function st(e,t,a,c,r,n,s){e(!1),t(!0),function(e,t){return new Promise(function(){var a=Object(k.a)(I.a.mark((function a(c,r){var n;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=t.public_id,u.a.post("/admin/product/uploadImage?public_id=".concat(n),{image:e}).then((function(e){return c(e.data)}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}(n,s).then((function(n){a(n),c(n.img),t(!1),r(!1),e(!0)}))}var ot=function(){var e=Object(h.b)(),t=Object(c.useState)(""),a=Object(l.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(""),o=Object(l.a)(s,2),i=o[0],b=o[1],O=Object(c.useState)(""),x=Object(l.a)(O,2),m=x[0],f=x[1],p=Object(c.useState)(0),g=Object(l.a)(p,2),y=g[0],v=g[1],C=Object(c.useState)(""),S=Object(l.a)(C,2),w=S[0],E=S[1],_=Object(c.useState)(1),H=Object(l.a)(_,2),F=H[0],D=H[1],T=Object(c.useState)(1),R=Object(l.a)(T,2),A=R[0],B=R[1],P=Object(c.useState)(1),U=Object(l.a)(P,2),L=U[0],G=U[1],M=Object(c.useState)(0),z=Object(l.a)(M,2),V=z[0],Q=(z[1],Object(c.useState)("")),q=Object(l.a)(Q,2),W=q[0],$=q[1],J=Object(c.useState)(),Z=Object(l.a)(J,2),X=Z[0],ee=Z[1],te=Object(h.c)((function(e){return e.category})).category,ae=Object(h.c)((function(e){return e.product})).product,ce=Object(c.useState)(!1),re=Object(l.a)(ce,2),ne=re[0],se=re[1],oe=Object(c.useState)(!0),ie=Object(l.a)(oe,2),le=ie[0],de=ie[1],be=Object(c.useState)(""),ue=Object(l.a)(be,2),he=ue[0],Oe=ue[1],xe=Object(c.useState)(""),me=Object(l.a)(xe,2),fe=me[0],pe=me[1],ge=Object(c.useState)(),ye=Object(l.a)(ge,2),Ce=ye[0],Se=ye[1],Ne=Object(c.useState)(),we=Object(l.a)(Ne,2),Ee=we[0],ke=we[1],_e=Object(c.useState)("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),He=Object(l.a)(_e,2),Fe=He[0],De=He[1],Te=Object(c.useState)("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),Re=Object(l.a)(Te,2),Ae=Re[0],Pe=Re[1],Ue=Object(c.useState)("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),Le=Object(l.a)(Ue,2),Ge=Le[0],Me=Le[1],ze=Object(c.useState)("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),Ye=Object(l.a)(ze,2),Ke=Ye[0],Ve=Ye[1],Qe=Object(c.useState)(""),qe=Object(l.a)(Qe,2),We=qe[0],$e=qe[1],Je=Object(c.useState)(""),Ze=Object(l.a)(Je,2),at=Ze[0],rt=Ze[1],nt=Object(c.useState)(""),ot=Object(l.a)(nt,2),it=ot[0],lt=ot[1],dt=Object(c.useState)(""),jt=Object(l.a)(dt,2),bt=jt[0],ut=jt[1],ht=Object(c.useState)(!1),Ot=Object(l.a)(ht,2),xt=Ot[0],mt=Ot[1],ft=Object(c.useState)(!1),pt=Object(l.a)(ft,2),gt=pt[0],yt=pt[1],vt=Object(c.useState)(!1),Ct=Object(l.a)(vt,2),St=Ct[0],Nt=Ct[1],wt=Object(c.useState)(!1),Et=Object(l.a)(wt,2),It=Et[0],kt=Et[1],_t=Object(c.useState)(!1),Ht=Object(l.a)(_t,2),Ft=Ht[0],Dt=Ht[1],Tt=Object(c.useState)(!1),Rt=Object(l.a)(Tt,2),At=Rt[0],Bt=Rt[1],Pt=Object(c.useState)(!1),Ut=Object(l.a)(Pt,2),Lt=Ut[0],Gt=Ut[1],Mt=Object(c.useState)(!1),zt=Object(l.a)(Mt,2),Yt=zt[0],Kt=zt[1],Vt=Object(c.useState)(!1),Qt=Object(l.a)(Vt,2),qt=Qt[0],Wt=Qt[1],$t=Object(c.useState)(!1),Jt=Object(l.a)($t,2),Zt=Jt[0],Xt=Jt[1],ea=Object(c.useState)(!1),ta=Object(l.a)(ea,2),aa=ta[0],ca=ta[1],ra=Object(c.useState)(!1),na=Object(l.a)(ra,2),sa=na[0],oa=na[1],ia=Object(c.useState)(!1),la=Object(l.a)(ia,2),da=la[0],ja=la[1],ba=Object(c.useState)(!1),ua=Object(l.a)(ba,2),ha=ua[0],Oa=ua[1],xa=Object(c.useState)(!1),ma=Object(l.a)(xa,2),fa=ma[0],pa=ma[1],ga=Object(c.useState)(!1),ya=Object(l.a)(ga,2),va=ya[0],Ca=ya[1],Sa=function(e,t){"undefined"!==typeof Ee&&e(Ee.getCroppedCanvas().toDataURL())};function Na(){return(Na=Object(k.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.find((function(e){return e.name===he}));case 2:return t=e.sent,$e((a=t).imageUrl[0]),rt(a.imageUrl[1]),lt(a.imageUrl[2]),ut(a.imageUrl[3]),De(a.imageUrl[0].img),Pe(a.imageUrl[1].img),Me(a.imageUrl[2].img),Ve(a.imageUrl[3].img),de(!1),n(a.name),b(a.category),f(a.subCat),v(a.price),n(a.name),E(a.description),D(a.small),G(a.medium),B(a.large),Se(a._id),e.abrupt("return");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wa=function(t){b(t.target.value),e(ve());var a=te.filter((function(e){return e.category===t.target.value}));ee(a[0].subCat)};return Object(c.useEffect)((function(){e(Be())}),[i,e,he]),Object(N.jsxs)("div",{children:[Object(N.jsx)(ct,{editImageShow:xt,seteditImageShow:mt,ShowImageHandler:function(){Sa(De),Dt(!0),mt(!1)},setCropper:ke}),Object(N.jsx)(ct,{editImageShow:gt,seteditImageShow:yt,ShowImageHandler:function(){Sa(Pe),Bt(!0),yt(!1)},setCropper:ke}),Object(N.jsx)(ct,{editImageShow:St,seteditImageShow:Nt,ShowImageHandler:function(){Sa(Me),Gt(!0),Nt(!1)},setCropper:ke}),Object(N.jsx)(ct,{editImageShow:It,seteditImageShow:kt,ShowImageHandler:function(){Sa(Ve),Kt(!0),kt(!1)},setCropper:ke}),Object(N.jsxs)("div",{className:"addProductForm ",children:[Object(N.jsx)("h1",{variant:"border-primary",className:"mb-5",children:"Edit Product"}),Object(N.jsxs)(Y.a,{children:[Object(N.jsx)("h2",{variant:"border-primary",className:"mb-2",children:"Select product to edit"}),Object(N.jsxs)(Y.a,{className:"mb-3",children:[Object(N.jsxs)(d.a.Group,{as:K.a,sm:12,md:6,controlId:"formCategory",children:[Object(N.jsx)(d.a.Label,{children:"Select category"}),Object(N.jsxs)(d.a.Select,{onChange:wa,children:[Object(N.jsx)("option",{defaultValue:!0,children:"Select category "}),te?te.map((function(e){return Object(N.jsx)("option",{id:e._id,children:e.category},e._id)})):Object(N.jsx)("option",{children:"Category"})]})]}),Object(N.jsxs)(d.a.Group,{as:K.a,sm:12,md:6,controlId:"formsubCategory",children:[Object(N.jsx)(d.a.Label,{children:"sub category"}),Object(N.jsxs)(d.a.Select,{onChange:function(e){var t=ae.filter((function(t){return t.category===i&&t.subCat===e.target.value}));pe(t)},children:[Object(N.jsx)("option",{defaultValue:!0,children:"Sub Category"}),X&&X.map((function(e,t){return Object(N.jsx)("option",{children:e},t)}))]})]}),Object(N.jsxs)(d.a.Group,{as:K.a,sm:12,md:6,controlId:"formsubCategory",children:[Object(N.jsx)(d.a.Label,{children:"Products"}),Object(N.jsxs)(d.a.Select,{className:"mb-3",onChange:function(e){Oe(e.target.value)},children:[Object(N.jsx)("option",{defaultValue:!0,children:"Products"}),fe&&fe.map((function(e,t){return Object(N.jsx)("option",{id:e._id,children:e.name},t)}))]}),Object(N.jsx)(j.a,{onClick:function(){return Na.apply(this,arguments)},disabled:!he,variant:"danger",children:" edit this Product "})]})]})]}),Object(N.jsx)(d.a,{onSubmit:function(t){if(t.preventDefault(),""===r||""===i||""===m||""===y||""===w)return $("Fill all fields");if(!We||!at||!it||!bt)return $("Upload all images");var a={name:r,category:i,subCat:m,price:y,description:w,small:F,medium:L,large:A,imageUrl:[We,at,it,bt],_id:Ce};se(!0),u.a.post("/admin/product/edit",a).then((function(t){t.data.response?($(t.data.response),se(!1)):t.data&&(e(Be()),n(""),b(""),v(),E(""),D(0),G(0),B(0),De("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),Pe("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),Me("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),Ve("https://cdn3.vectorstock.com/i/1000x1000/35/52/placeholder-rgb-color-icon-vector-32173552.jpg"),je()("Success","product Edited sucessfully","success"),$(""),se(!1),ja(!1))}))},children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(K.a,{sm:12,md:6,children:[Object(N.jsx)(Y.a,{className:"mb-3",children:Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formGridEmail",children:[Object(N.jsx)(d.a.Label,{children:"Product Name"}),Object(N.jsx)(d.a.Control,{value:r,disabled:le,type:"text",placeholder:"Enter product name",onChange:function(e){n(e.target.value)}})]})}),Object(N.jsxs)(Y.a,{className:"mb-3",children:[Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formCategory",children:[Object(N.jsx)(d.a.Label,{children:"Select category"}),Object(N.jsxs)(d.a.Select,{value:i,onChange:wa,disabled:le,defaultValue:"Category",children:[Object(N.jsx)("option",{defaultValue:!0,children:" Select category"}),te?te.map((function(e){return Object(N.jsx)("option",{id:e._id,children:e.category},e._id)})):Object(N.jsx)("option",{children:"Category"})]})]}),Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formsubCategory",children:[Object(N.jsx)(d.a.Label,{children:"sub category"}),Object(N.jsxs)(d.a.Select,{value:m,disabled:le,onChange:function(e){f(e.target.value)},children:[Object(N.jsx)("option",{defaultValue:!0,children:"Sub Category"}),X&&X.map((function(e,t){return Object(N.jsx)("option",{children:e},t)}))]})]})]}),Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formPrice",className:"mb-3",children:[Object(N.jsx)(d.a.Label,{children:"Enter Price"}),Object(N.jsx)(d.a.Control,{value:y,disabled:le,onChange:function(e){v(e.target.value)},type:"number"})]}),Object(N.jsxs)(d.a.Group,{className:"mb-3",controlId:"formGridDesciption",children:[Object(N.jsx)(d.a.Label,{children:"Enter description"}),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Xe.a,{controlId:"floatingTextarea2",label:"Enter a description",children:Object(N.jsx)(d.a.Control,{value:w,disabled:le,onChange:function(e){E(e.target.value)},as:"textarea",placeholder:"Enter a description",style:{height:"100px"}})})})]})]}),Object(N.jsxs)(K.a,{sm:12,md:6,children:[Object(N.jsx)("h4",{children:"Enter size available"}),Object(N.jsxs)(Y.a,{className:"mb-3",children:[Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formSmall",children:[Object(N.jsx)(d.a.Label,{children:"small"}),Object(N.jsx)(d.a.Control,{value:F,disabled:le,type:"number",onChange:function(e){D(e.target.value)}})]}),Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formLarge",children:[Object(N.jsx)(d.a.Label,{children:"Medium"}),Object(N.jsx)(d.a.Control,{value:L,disabled:le,type:"number",onChange:function(e){G(e.target.value)}})]}),Object(N.jsxs)(d.a.Group,{as:K.a,controlId:"formGridZip",children:[Object(N.jsx)(d.a.Label,{children:"Large"}),Object(N.jsx)(d.a.Control,{value:A,disabled:le,type:"number",onChange:function(e){B(e.target.value)}})]})]}),Object(N.jsxs)("h5",{children:["Total quantity: ",V]}),Object(N.jsxs)(Y.a,{children:[Object(N.jsx)(K.a,{sm:12,md:6,className:"mb-3",children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(K.a,{className:"d-flex",children:[Object(N.jsx)(et.a,{src:Fe,className:"image_preview mb-3",alt:"productimage",fluid:!0}),da&&Object(N.jsxs)("h4",{style:{color:"green"},children:[" ",Object(N.jsx)("i",{className:"fas fa-check"})]}),Object(N.jsx)("h6",{className:"m-3",children:" Image 1"})]}),qt?Object(N.jsx)(Ie.a,{as:"p",animation:"glow",children:Object(N.jsx)(Ie.a,{xs:12,bg:"danger",size:"lg"})}):Ft?Object(N.jsx)(j.a,{variant:"danger",onClick:function(){st(ja,Wt,$e,De,Dt,Fe,We)},className:"my-3",children:"Upload Image 1"}):Object(N.jsx)(j.a,{variant:"danger",disabled:le,onClick:function(){mt(!0)},className:"my-3",children:" Select Image 1"})]})}),Object(N.jsx)(K.a,{sm:12,md:6,className:"mb-3",children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(K.a,{className:"d-flex",children:[Object(N.jsx)(et.a,{src:Ae,className:"image_preview mb-3",alt:"productimage",fluid:!0}),ha&&Object(N.jsxs)("h4",{style:{color:"green"},children:[" ",Object(N.jsx)("i",{className:"fas fa-check"})]}),Object(N.jsx)("h6",{className:"m-3",children:" Image 2"})]}),Zt?Object(N.jsx)(Ie.a,{as:"p",animation:"glow",children:Object(N.jsx)(Ie.a,{xs:12,bg:"danger",size:"lg"})}):At?Object(N.jsx)(j.a,{variant:"danger",onClick:function(){st(Oa,Xt,rt,Pe,Bt,Ae,at)},className:"my-3",children:"Upload Image 2"}):Object(N.jsx)(j.a,{variant:"danger",disabled:le,onClick:function(){yt(!0)},className:"my-3",children:" Select Image 2"})]})}),Object(N.jsx)(K.a,{sm:12,md:6,className:"mb-3",children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(K.a,{className:"d-flex",children:[Object(N.jsx)(et.a,{src:Ge,className:"image_preview mb-3",alt:"productimage",fluid:!0}),fa&&Object(N.jsxs)("h4",{style:{color:"green"},children:[" ",Object(N.jsx)("i",{className:"fas fa-check"})]}),Object(N.jsx)("h6",{className:"m-3",children:" Image 3"})]}),aa?Object(N.jsx)(Ie.a,{as:"p",animation:"glow",children:Object(N.jsx)(Ie.a,{xs:12,bg:"danger",size:"lg"})}):Lt?Object(N.jsx)(j.a,{variant:"danger",onClick:function(){st(pa,ca,lt,Me,Gt,Ge,it)},className:"my-3",children:"Upload Image 3"}):Object(N.jsx)(j.a,{variant:"danger",disabled:le,onClick:function(){Nt(!0)},className:"my-3",children:" Select Image 3"})]})}),Object(N.jsx)(K.a,{sm:12,md:6,className:"mb-3",children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(K.a,{className:"d-flex",children:[Object(N.jsx)(et.a,{src:Ke,className:"image_preview mb-3",alt:"productimage",fluid:!0}),va&&Object(N.jsxs)("h4",{style:{color:"green"},children:[" ",Object(N.jsx)("i",{className:"fas fa-check"})]}),Object(N.jsx)("h6",{className:"m-3",children:" Image 4"})]}),sa?Object(N.jsx)(Ie.a,{as:"p",animation:"glow",children:Object(N.jsx)(Ie.a,{xs:12,bg:"danger",size:"lg"})}):Yt?Object(N.jsx)(j.a,{variant:"danger",onClick:function(){st(Ca,oa,ut,Ve,Kt,Ke,bt)},className:"my-3",children:"Upload Image 4"}):Object(N.jsx)(j.a,{variant:"danger",disabled:le,onClick:function(){kt(!0)},className:"my-3",children:" Select Image 4"})]})})]}),ne?Object(N.jsx)(tt.a,{animation:"border"}):Object(N.jsx)(j.a,{variant:"primary",type:"submit",children:"Edit this now"}),Object(N.jsx)("h5",{className:"warning-text  mt-3",children:W})]})]})})]})]})};var it=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(),s=Object(l.a)(n,2),o=s[0],i=s[1],b=Object(c.useState)(),O=Object(l.a)(b,2),x=O[0],m=O[1],f=Object(c.useState)(),p=Object(l.a)(f,2),g=p[0],y=p[1],v=Object(c.useState)(),C=Object(l.a)(v,2),S=C[0],w=C[1],E=Object(c.useState)(),_=Object(l.a)(E,2),H=(_[0],_[1]),F=Object(c.useState)(!1),D=Object(l.a)(F,2),T=D[0],R=D[1],A=Object(c.useState)(!1),B=Object(l.a)(A,2),P=B[0],U=B[1],L=function(){R(!1),U(!1)},G=function(){return U(!0)},M=Object(h.c)((function(e){return e.product})).product,z=Object(h.c)((function(e){return e.offer})).offers,Q=Object(h.b)();function q(e){var t=e.target.id;je()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this Product",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e?u.a.get("/admin/product/delete/".concat(t)).then((function(e){e.data&&je()("Product has been deleted!",{icon:"success"}).then((function(e){Q(Be())}))})):je()("Product is safe!")}))}function W(){return(W=Object(k.a)(I.a.mark((function e(t){var a,c,r,n,s,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=z.find((function(e){return e.offerName===t.target.value})),c=a.offerName,r=a.percentage,n=a.expiryDate,s=a._id,o=He.dateFormatter(n),i(c),m(r),y(o),w(s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){var t=e.target.id;r(t),R(!0);var a=M.find((function(e){return e._id===t})).offer,c=(a.offerId,a.offerName),n=a.expiryDate,s=a.percentage;i(c),m(s),y(He.dateFormatter(n)),console.log(a),G()}function J(e){var t=e.target.id;r(t),G()}return Object(c.useEffect)((function(){Q(Be()),Q(We())}),[Q]),Object(N.jsxs)(Y.a,{className:"table-Container",children:[Object(N.jsx)(K.a,{sm:12,md:8,className:"mx-auto mt-5",children:Object(N.jsxs)(V.a,{striped:!0,bordered:!0,hover:!0,size:"lg",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Image"}),Object(N.jsx)("th",{children:"Name"}),Object(N.jsx)("th",{children:"Category"}),Object(N.jsx)("th",{children:"subcategory"}),Object(N.jsx)("th",{children:"price"}),Object(N.jsx)("th",{children:"stock"}),Object(N.jsx)("th",{children:"Action"})]})}),Object(N.jsx)("tbody",{children:M?M.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t+1}),Object(N.jsxs)("td",{children:[" ",Object(N.jsx)("img",{className:"table_image",src:e.imageUrl[0].img,id:e.imageUrl[0]._id,alt:"productIMage"})," "]}),e.isOffer?Object(N.jsxs)("td",{children:[" ",e.name," ",Object(N.jsx)(fe.a,{style:{cursor:"pointer"},className:"me-auto",bg:"success",id:e._id,onClick:$,children:"Show offer"})]}):Object(N.jsxs)("td",{children:[" ",e.name]}),Object(N.jsx)("td",{children:e.category}),Object(N.jsx)("td",{children:e.subCat}),Object(N.jsx)("td",{children:e.price}),Object(N.jsx)("td",{children:e.quantity}),Object(N.jsxs)("td",{className:"table-icons",children:[Object(N.jsx)("i",{className:"fas fa-trash-alt ",id:e._id,onClick:q}),Object(N.jsx)("i",{className:"fas fa-tag",onClick:J,id:e._id})]})]},e._id)})):null})]})}),Object(N.jsxs)(Ce.a,{show:P,onHide:L,backdrop:"static",keyboard:!1,children:[Object(N.jsx)(Ce.a.Header,{closeButton:!0,children:Object(N.jsx)(Ce.a.Title,{children:T?"Offer":"Apply offer"})}),Object(N.jsxs)(Ce.a.Body,{children:[!T&&Object(N.jsx)(d.a.Select,{size:"sm",onChange:function(e){return W.apply(this,arguments)},children:z?z.map((function(e,t){return Object(N.jsx)("option",{children:e.offerName},t)})):Object(N.jsx)(Ie.a,{as:"p",animation:"glow",children:Object(N.jsx)(Ie.a,{xs:12})})}),Object(N.jsxs)(ke.a,{className:"my-3",children:[Object(N.jsxs)(ke.a.Item,{className:"d-flex justify-content-between",children:[Object(N.jsx)("h6",{children:"Offer Name"}),Object(N.jsx)("p",{children:o})]}),Object(N.jsxs)(ke.a.Item,{className:"d-flex justify-content-between",children:[Object(N.jsx)("h6",{children:"Expiry Date"}),Object(N.jsx)("p",{children:g})]}),Object(N.jsxs)(ke.a.Item,{className:"d-flex justify-content-between",children:[Object(N.jsx)("h6",{children:"Discount(%)"}),Object(N.jsxs)("p",{children:[x,"%"]})]})]})]}),Object(N.jsxs)(Ce.a.Footer,{children:[Object(N.jsx)(j.a,{variant:"secondary",onClick:L,children:"Close"}),T?Object(N.jsx)(j.a,{variant:"danger",id:S,onClick:function(){De.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then((function(e){e.isConfirmed&&u.a.get("/offer/removeOffer/".concat(a)).then((function(e){if(e.data)return De.a.fire("Deleted!","Offer is removed","success"),Q(Be()),L()}))}))},children:"Remove Offer"}):Object(N.jsx)(j.a,{variant:"primary",id:S,onClick:function(e){var t=e.target.id;if(!t)return H("Select a offer");u.a.post("/offer/applyProductOffer",{productId:a,offerId:t}).then((function(e){return e.data.warning?De.a.fire(e.data.warning):e.data?(De.a.fire({position:"top-end",icon:"success",title:e.data.response,showConfirmButton:!1,timer:1500}),Q(Be()),L()):void 0})).catch((function(e){console.error("this is apply offer arror  "+e)}))},children:"Apply offer"})]})]})]})};var lt=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T,{}),Object(N.jsx)("div",{className:"home-section",children:Object(N.jsx)(H.a,{fluid:!0,children:Object(N.jsxs)(xe.a,{id:"uncontrolled-tab-example",className:"mb-3",children:[Object(N.jsx)(me.a,{eventKey:"home",title:"Products",children:Object(N.jsx)(it,{})}),Object(N.jsx)(me.a,{eventKey:"profile",title:"Add product",children:Object(N.jsx)(nt,{})}),Object(N.jsx)(me.a,{eventKey:"contact",title:"Edit Product",children:Object(N.jsx)(ot,{})})]})})})]})};var dt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.order})).orders,a=Object(c.useState)(),r=Object(l.a)(a,2),n=(r[0],r[1]),s=Object(c.useState)(!1),i=Object(l.a)(s,2),b=i[0],O=i[1],x=function(){return O(!1)},m=function(){return O(!0)},f=Object(o.c)(),p=Object(l.a)(f,2),g=p[0],y=(p[1],g.get("user")),v=g.get("orderId");function C(t){n(t.target.value);var a=t.target.value;u.a.post("/order/changeStatus",{user:y,orderId:v,orderStatus:a}).then((function(t){t.data&&(De.a.fire({position:"top-end",icon:"success",title:"order status changed",showConfirmButton:!1,timer:1500}),e(ae()),x())}))}return Object(c.useEffect)((function(){console.log("ibJNKJND"),e(ae())}),[e]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T,{}),Object(N.jsx)("div",{className:"home-section",children:Object(N.jsxs)(H.a,{children:[Object(N.jsxs)(Y.a,{className:"align-items-center",children:[Object(N.jsx)("h2",{children:"Orders"}),Object(N.jsxs)("div",{className:"table-Container",children:[Object(N.jsxs)(V.a,{striped:!0,bordered:!0,hover:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"no"}),Object(N.jsx)("th",{children:"User Details"}),Object(N.jsx)("th",{children:"Order ID"}),Object(N.jsx)("th",{children:"Payment Method"}),Object(N.jsx)("th",{children:"Order Status"}),Object(N.jsx)("th",{children:"Amount"}),Object(N.jsx)("th",{children:"Action"})]})}),Object(N.jsx)("tbody",{children:t?t.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t+1}),Object(N.jsx)("td",{children:e.email}),Object(N.jsx)("td",{children:e.orders._id}),Object(N.jsx)("td",{children:e.orders.paymentMethod}),Object(N.jsx)("td",{children:e.orders.orderStatus}),Object(N.jsx)("td",{children:e.orders.amount}),Object(N.jsx)("td",{className:"table-icons ",children:"delivered"===e.orders.orderStatus?"Delivered":"canceled"===e.orders.orderStatus?"Cancelled":Object(N.jsx)(o.b,{to:"/orders/?user=".concat(e.user,"&orderId=").concat(e.orders._id),children:Object(N.jsx)("i",{id:"value.orders._id",onClick:m,className:"fas fa-edit"})})})]},e.orders._id)})):""})]}),Object(N.jsx)(K.a,{sm:12,md:8,className:"mx-auto mt-5"})]})]}),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Ce.a,{show:b,onHide:x,backdrop:"static",keyboard:!1,children:[Object(N.jsx)(Ce.a.Header,{closeButton:!0,children:Object(N.jsx)(Ce.a.Title,{children:"Edit order status"})}),Object(N.jsx)(Ce.a.Body,{children:Object(N.jsx)(Y.a,{children:Object(N.jsx)(K.a,{children:Object(N.jsxs)(d.a,{children:[Object(N.jsx)("h4",{children:"Change order status"}),Object(N.jsx)(d.a.Group,{as:Y.a,className:"mb-3",children:Object(N.jsxs)(K.a,{sm:10,children:[Object(N.jsx)(d.a.Check,{type:"radio",value:"ordered",label:"ordered",name:"formHorizontalRadios",id:"formHorizontalRadios1",onChange:C}),Object(N.jsx)(d.a.Check,{type:"radio",value:"shipped",label:"shipped",name:"formHorizontalRadios",id:"formHorizontalRadios2",onChange:C}),Object(N.jsx)(d.a.Check,{type:"radio",value:"delivered",label:"delivered",name:"formHorizontalRadios",id:"formHorizontalRadios3",onChange:C}),Object(N.jsx)(d.a.Check,{type:"radio",value:"canceled",label:"canceled",name:"formHorizontalRadios",id:"formHorizontalRadios3",onChange:C})]})})]})})})}),Object(N.jsx)(Ce.a.Footer,{children:Object(N.jsx)(j.a,{variant:"secondary",onClick:x,children:"Close"})})]})})]})})]})},jt=a(223);var bt=function(e){var t=e.addHandleClose,a=e.addshow,c=e.coupenName,r=e.expiryDate,n=e.percentage,s=e.setCoupenName,o=e.setExpiryDate,i=e.setPercentage,l=e.setCoupenNameError,b=(e.setExpiryDateError,e.setPercentageError),u=e.coupenNameError,h=e.expiryDateError,O=e.percentageError,x=e.addCoupenHandler,m=e.loading,f=e.setMinAmount,p=e.minAmountError,g=e.setMinAmountError;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Ce.a,{show:a,keyboard:!1,children:[Object(N.jsx)(Ce.a.Header,{closeButton:!0,children:Object(N.jsx)(Ce.a.Title,{children:"Add Coupen"})}),Object(N.jsx)(Ce.a.Body,{children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(d.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(N.jsx)(d.a.Label,{children:"Coupen Name"}),Object(N.jsx)(d.a.Control,{type:"text",placeholder:"Coupen Name",value:c,onChange:function(e){we.nameInputChangeHandler(e.target.value,l),s(e.target.value)},onBlur:function(e){we.nameInputBlurHandler(e.target.value,l)}}),Object(N.jsx)(d.a.Text,{className:"text-muted",style:{color:"red"},children:u})]}),Object(N.jsxs)(d.a.Group,{className:"mb-3",controlId:"formBasicDate",children:[Object(N.jsx)(d.a.Label,{children:"Minimum Amount"}),Object(N.jsx)(d.a.Control,{type:"text",placeholder:"Enter minumum amount",onChange:function(e){we.priceInputChangeHandler(e.target.value,g),f(e.target.value)},onBlur:function(e){we.priceInputBlurHandler(e.target.value,g)}}),Object(N.jsx)(d.a.Text,{className:"text-muted",style:{color:"red"},children:p})]}),Object(N.jsxs)(d.a.Group,{className:"mb-3",controlId:"formBasicDate",children:[Object(N.jsx)(d.a.Label,{children:"Expiry Date"}),Object(N.jsx)(d.a.Control,{type:"Date",placeholder:"SelectDate",value:r,onChange:function(e){o(e.target.value)}}),Object(N.jsx)(d.a.Text,{className:"text-muted",style:{color:"red"},children:h})]}),Object(N.jsxs)(d.a.Group,{controlId:"formPercentage",children:[Object(N.jsx)(d.a.Label,{children:"Coupen Percentage"}),Object(N.jsx)(d.a.Control,{min:0,max:99,type:"text",value:n,onChange:function(e){we.percentageInputChangeHandler(e.target.value,b),i(e.target.value)},onBlur:function(e){we.percentageInputBlurHandler(e.target.value,b)}}),Object(N.jsx)("p",{className:"text-muted",style:{color:"red"},children:O})]})]})}),Object(N.jsxs)(Ce.a.Footer,{children:[Object(N.jsx)(j.a,{variant:"secondary",onClick:t,children:"Close"}),m?Object(N.jsx)(tt.a,{animation:"border",role:"status"}):Object(N.jsx)(j.a,{disable:u||O||h,variant:"primary",onClick:x,children:"Add this Coupen"})]})]})})};var ut=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)("."),s=Object(l.a)(n,2),o=s[0],i=s[1],d=Object(c.useState)("."),j=Object(l.a)(d,2),b=j[0],O=j[1],x=Object(c.useState)("."),m=Object(l.a)(x,2),f=m[0],p=m[1],g=Object(c.useState)("."),y=Object(l.a)(g,2),v=y[0],C=y[1],S=Object(c.useState)("."),w=Object(l.a)(S,2),E=w[0],I=w[1],k=Object(c.useState)("."),_=Object(l.a)(k,2),F=_[0],D=_[1],T=Object(c.useState)("."),R=Object(l.a)(T,2),A=R[0],B=R[1],P=Object(c.useState)("."),U=Object(l.a)(P,2),L=U[0],G=U[1],M=function(){return r(!1)},Q=Object(h.c)((function(e){return e.coupen})),q=Q.coupen,W=Q.loading,$=Object(h.b)();function J(e){var t=e.target.id;De.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed?u.a.get("/offer/coupen/delete/".concat(t)).then((function(e){De.a.fire("Deleted!","Coupen has been deleted.","success"),$(Je())})):De()("Coupen is safe!")}))}return Object(c.useEffect)((function(){$(Je())}),[$]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(H.a,{children:[Object(N.jsxs)(Y.a,{className:"d-flex",children:[Object(N.jsx)(bt,{addHandleClose:M,addshow:a,coupenName:o,expiryDate:b,percentage:f,couponNameError:E,expiryDateError:F,percentageError:A,setCoupenName:i,setExpiryDate:O,setPercentage:p,setCoupenNameError:I,setExpiryDateError:D,setPercentageError:B,addCoupenHandler:function(){if(!o||!b||!f||!v)return B("Fill all");var e=new Date;if(b<e)return D("Enter a valid Error");$(function(e,t,a,c){return function(r){r({type:Ke}),u.a.post("/offer/addCoupen",{name:e,expiryDate:t,percentage:a,minAmount:c}).then((function(e){return e.data.warning?($e(e.data.warning),De.a.fire(e.data.warning)):e.data?(r({type:Me}),r(Je()),De.a.fire({position:"top-end",icon:"success",title:"Offer Added",showConfirmButton:!1,timer:1500})):void 0})).catch((function(e){r(qe(e))}))}}(o,b,f,v)),M(),i("."),O("."),p(".")},loading:W,setMinAmount:C,minAmountError:L,setMinAmountError:G}),Object(N.jsx)(K.a,{children:Object(N.jsx)(Y.a,{className:"d-flex",children:Object(N.jsxs)(jt.b,{direction:"horizontal",children:[Object(N.jsx)("h2",{as:K.a,md:8,children:"Coupen Details"}),Object(N.jsxs)("h2",{as:K.a,md:4,className:"buttonIcons mx-3",onClick:function(){return r(!0)},children:[Object(N.jsx)("i",{className:"fas fa-plus-square"})," "]})]})})})]}),Object(N.jsx)(Y.a,{children:Object(N.jsxs)(V.a,{striped:!0,bordered:!0,hover:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Coupen Name"}),Object(N.jsx)("th",{children:"Discount (%)"}),Object(N.jsx)("th",{children:"Min Amount"}),Object(N.jsx)("th",{children:"Start Date"}),Object(N.jsx)("th",{children:"Expiry Date"}),Object(N.jsx)("th",{children:"Action"})]})}),Object(N.jsx)("tbody",{children:Object(N.jsx)(N.Fragment,{children:q?Object(N.jsx)(N.Fragment,{children:q.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t+1}),Object(N.jsx)("td",{children:e.name}),Object(N.jsxs)("td",{children:[e.percentage," %"]}),Object(N.jsxs)("td",{children:["\u20b9",e.minAmount]}),Object(N.jsx)("td",{children:e.createdAt}),Object(N.jsx)("td",{children:e.expiryDate}),Object(N.jsx)("td",{children:Object(N.jsx)("i",{className:"fas fa-trash-alt buttonIcons",id:e._id,onClick:J})})]},e._id)}))}):Object(N.jsx)(z.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})})]})})]})})};var ht=function(e){var t=e.addHandleClose,a=e.addshow,c=e.offerName,r=e.expiryDate,n=e.percentage,s=e.setOfferName,o=e.setExpiryDate,i=e.setPercentage,l=e.setOfferNameError,b=(e.setExpiryDateError,e.setPercentageError),u=e.offerNameError,h=e.expiryDateError,O=e.percentageError,x=e.addOfferHandler,m=e.loading;return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Ce.a,{show:a,onHide:t,backdrop:"static",keyboard:!1,children:[Object(N.jsx)(Ce.a.Header,{closeButton:!0,children:Object(N.jsx)(Ce.a.Title,{children:"Add Offer"})}),Object(N.jsx)(Ce.a.Body,{children:Object(N.jsxs)(Y.a,{children:[Object(N.jsxs)(d.a.Group,{className:"mb-3",controlId:"formBasicName",children:[Object(N.jsx)(d.a.Label,{children:"Offer Name"}),Object(N.jsx)(d.a.Control,{type:"text",placeholder:"Offer Name",value:c,onChange:function(e){we.nameInputChangeHandler(e.target.value,l),s(e.target.value)},onBlur:function(e){we.nameInputBlurHandler(e.target.value,l)}}),Object(N.jsx)(d.a.Text,{className:"text-muted",style:{color:"red"},children:u})]}),Object(N.jsxs)(d.a.Group,{className:"mb-3",controlId:"formBasicDate",children:[Object(N.jsx)(d.a.Label,{children:"Expiry Date"}),Object(N.jsx)(d.a.Control,{type:"Date",placeholder:"SelectDate",value:r,onChange:function(e){o(e.target.value)}}),Object(N.jsx)(d.a.Text,{className:"text-muted",style:{color:"red"},children:h})]}),Object(N.jsxs)(d.a.Group,{controlId:"formPercentage",children:[Object(N.jsx)(d.a.Label,{children:"Offer Percentage"}),Object(N.jsx)(d.a.Control,{min:0,max:99,type:"text",value:n,onChange:function(e){we.percentageInputChangeHandler(e.target.value,b),i(e.target.value)},onBlur:function(e){we.percentageInputBlurHandler(e.target.value,b)}}),Object(N.jsx)("p",{className:"text-muted",style:{color:"red"},children:O})]})]})}),Object(N.jsxs)(Ce.a.Footer,{children:[Object(N.jsx)(j.a,{variant:"secondary",onClick:t,children:"Close"}),m?Object(N.jsx)(tt.a,{animation:"border",role:"status"}):Object(N.jsx)(j.a,{disable:u||O||h,variant:"primary",onClick:x,children:"Add this Offer"})]})]})})};var Ot=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)("."),s=Object(l.a)(n,2),o=s[0],i=s[1],d=Object(c.useState)("."),j=Object(l.a)(d,2),b=j[0],O=j[1],x=Object(c.useState)("."),m=Object(l.a)(x,2),f=m[0],p=m[1],g=Object(c.useState)("."),y=Object(l.a)(g,2),v=y[0],C=y[1],S=Object(c.useState)("."),w=Object(l.a)(S,2),E=w[0],I=w[1],k=Object(c.useState)("."),_=Object(l.a)(k,2),F=_[0],D=_[1];console.log(o,b,f);var T=function(){return r(!1)},R=Object(h.c)((function(e){return e.offer})),A=R.offers,B=R.loading,P=Object(h.b)();return Object(c.useEffect)((function(){P(We())}),[P]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(H.a,{children:[Object(N.jsxs)(Y.a,{className:"d-flex",children:[Object(N.jsx)(ht,{addHandleClose:T,addshow:a,offerName:o,expiryDate:b,percentage:f,offerNameError:v,expiryDateError:E,percentageError:F,setOfferName:i,setExpiryDate:O,setPercentage:p,setOfferNameError:C,setExpiryDateError:I,setPercentageError:D,addOfferHandler:function(){if(!o||!b||!f)return D("Fill all");var e=new Date;if(b<e)return I("Enter a valid Error");P(function(e,t,a){return function(c){c(Ve()),u.a.post("/offer/addOffer",{offerName:e,expiryDate:t,percentage:a}).then((function(e){return e.data.warning?(c(Qe(e.data)),De.a.fire(e.data.warning)):e.data?(c(Qe(e.data)),c(We()),De.a.fire({position:"top-end",icon:"success",title:"Offer Added",showConfirmButton:!1,timer:1500})):void 0})).catch((function(e){c(qe(e))}))}}(o,b,f)),T()},loading:B}),Object(N.jsx)(K.a,{children:Object(N.jsx)(Y.a,{className:"d-flex",children:Object(N.jsxs)(jt.b,{direction:"horizontal",children:[Object(N.jsx)("h2",{as:K.a,id:"2",md:8,children:"User details"}),Object(N.jsxs)("h2",{as:K.a,id:"4",md:4,className:"buttonIcons mx-3",onClick:function(){return r(!0)},children:[Object(N.jsx)("i",{className:"fas fa-plus-square"})," "]})]})})})]}),Object(N.jsx)(Y.a,{children:Object(N.jsxs)(V.a,{striped:!0,bordered:!0,hover:!0,children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Offer Name"}),Object(N.jsx)("th",{children:"Discount (%)"}),Object(N.jsx)("th",{children:"Start Date"}),Object(N.jsx)("th",{children:"Expiry Date"})]})}),Object(N.jsx)("tbody",{children:Object(N.jsx)(N.Fragment,{children:A?Object(N.jsx)(N.Fragment,{children:A.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t+1}),Object(N.jsx)("td",{children:e.offerName}),Object(N.jsxs)("td",{children:[e.percentage," %"]}),Object(N.jsx)("td",{children:e.createdAt}),Object(N.jsx)("td",{children:e.expiryDate})]},e._id)}))}):Object(N.jsx)(z.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})})]})})]})})};var xt=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T,{}),Object(N.jsx)("div",{className:"home-section",children:Object(N.jsx)(H.a,{children:Object(N.jsx)(Y.a,{children:Object(N.jsxs)(xe.a,{id:"uncontrolled-tab-example",className:"mb-3",children:[Object(N.jsx)(me.a,{eventKey:"home",title:"Home",children:Object(N.jsx)(Ot,{})}),Object(N.jsx)(me.a,{eventKey:"Coupen",title:"coupens",children:Object(N.jsx)(ut,{})})]})})})})]})};var mt=function(){var e=Object(c.useState)("Monthly"),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(),s=Object(l.a)(n,2),o=(s[0],s[1]),i=Object(h.c)((function(e){return e.sales})),b=i.report,u=i.loading,O=Object(h.b)(),x=Object(c.useState)(),m=Object(l.a)(x,2),f=m[0],p=m[1],g=Object(c.useState)(),y=Object(l.a)(g,2),v=y[0],C=y[1],S=Object(c.useState)(),w=Object(l.a)(S,2),E=w[0],_=w[1];function F(e){r(e.target.id),O(re(e.target.id)),o(b)}var D=function(){var e=Object(k.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f&&v){e.next=3;break}return e.abrupt("return",_("Fill all"));case 3:if(t=new Date,!(v>t)){e.next=6;break}return e.abrupt("return",_("Future Report is not available,select valid date"));case 6:O(ce()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("This is the error from report by range   "+e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){O(re(a)),o(b)}),[O]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(H.a,{children:[Object(N.jsx)("h1",{children:"Sales Report"}),Object(N.jsxs)(Y.a,{className:"d-flex border-bottom pb-3",children:[Object(N.jsxs)(K.a,{md:4,className:"d-flex align-content-around",children:[Object(N.jsxs)("h6",{children:["Filter ",Object(N.jsx)("i",{className:"fas fa-filter"})]}),Object(N.jsx)(j.a,{className:"mx-2",type:"primary",shape:"round",id:"Yearly",onClick:F,children:"By Year"}),Object(N.jsx)(j.a,{className:"mx-2",type:"primary",shape:"round",id:"Monthly",onClick:F,children:"By Month"}),Object(N.jsx)(j.a,{className:"mx-2",type:"primary",shape:"round",id:"Daily",onClick:F,children:" By Day"})]}),Object(N.jsxs)(d.a.Group,{as:K.a,md:2,controlId:"formGridEmail",children:[Object(N.jsx)(d.a.Label,{children:"From"}),Object(N.jsx)(d.a.Control,{type:"date",placeholder:"Start date",onChange:function(e){p(e.target.value)}})]}),Object(N.jsxs)(d.a.Group,{as:K.a,md:2,controlId:"formGridEmail",children:[Object(N.jsx)(d.a.Label,{children:"To"}),Object(N.jsx)(d.a.Control,{type:"date",placeholder:"E date",onChange:function(e){C(e.target.value)}})]}),Object(N.jsxs)(K.a,{children:[Object(N.jsx)(j.a,{onClick:D,children:"Search"}),Object(N.jsx)("p",{style:{color:"red"},children:E})]})]}),u?Object(N.jsx)(z.a,{type:"Puff",color:"#00BFFF",height:100,width:100}):Object(N.jsxs)(V.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Username"}),Object(N.jsx)("th",{children:"Order Id"}),Object(N.jsx)("th",{children:"Payment Id"}),Object(N.jsx)("th",{children:"Payment Method"}),Object(N.jsx)("th",{children:"Payment Date"}),Object(N.jsx)("th",{children:"Product Count"}),Object(N.jsx)("th",{children:"Amount"})]})}),Object(N.jsx)("tbody",{children:b?b.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t+1}),Object(N.jsx)("td",{children:e.email}),Object(N.jsx)("td",{children:e.orders.orderId}),Object(N.jsx)("td",{children:e.orders.paymentResult.payId}),Object(N.jsx)("td",{children:e.orders.paymentMethod}),Object(N.jsx)("td",{children:e.orders.paymentResult.payed_Date}),Object(N.jsx)("td",{children:e.orders.orderItem.length}),Object(N.jsx)("td",{children:e.orders.amount})]},t)})):Object(N.jsx)(z.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})]})]})})};var ft=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(T,{}),Object(N.jsx)("div",{className:"home-section",children:Object(N.jsx)(H.a,{children:Object(N.jsx)(Y.a,{children:Object(N.jsx)(xe.a,{id:"uncontrolled-tab-example",className:"mb-3",children:Object(N.jsx)(me.a,{eventKey:"home",title:"Home",children:Object(N.jsx)(mt,{})})})})})})]})};var pt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.admin})).adminActive;return Object(c.useEffect)((function(){e(C())}),[e]),Object(N.jsx)("div",{children:Object(N.jsx)(o.a,{children:Object(N.jsxs)(i.d,{children:[Object(N.jsx)(i.b,{path:"/dashboard",element:t?Object(N.jsx)(oe,{}):Object(N.jsx)(i.a,{to:"/"})}),Object(N.jsx)(i.b,{path:"/",element:t?Object(N.jsx)(i.a,{to:"/dashboard"}):Object(N.jsx)(w,{})}),t&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(i.b,{path:"/userManage",element:Object(N.jsx)(Oe,{})}),Object(N.jsx)(i.b,{path:"/userSearch/:keyword",element:Object(N.jsx)(Oe,{})}),Object(N.jsx)(i.b,{path:"/userManage/page/:pageNumber",element:Object(N.jsx)(Oe,{})}),Object(N.jsx)(i.b,{path:"/userSearch/:keyword/page/:pageNumber",element:Object(N.jsx)(Oe,{})}),Object(N.jsx)(i.b,{path:"/orders",element:Object(N.jsx)(dt,{})}),Object(N.jsx)(i.b,{path:"/offers",element:Object(N.jsx)(xt,{})}),Object(N.jsx)(i.b,{path:"/category",element:Object(N.jsx)(Ze,{})}),Object(N.jsx)(i.b,{path:"/product",element:Object(N.jsx)(lt,{})}),Object(N.jsx)(i.b,{path:"/sales",element:Object(N.jsx)(ft,{})})]})]})})})},gt=a(59),yt=a(136),vt=a(135),Ct=a(2),St={loading:!0,users:[],error:"",pages:"",page:""},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!0});case A:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,users:t.payload.users,page:t.payload.page,pages:t.payload.pages,error:""});case B:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,users:[],error:t.payload});default:return e}},wt={loading:!0,category:[],error:""},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!0});case ge:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,category:t.payload,error:""});case ye:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,category:[],error:t.payload});default:return e}},It={loading:!0,product:[],error:""},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!0});case Re:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,product:t.payload,error:""});case Ae:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,product:[],error:t.payload});default:return e}},_t={loading:!1,offers:[],error:"",addResponse:""},Ht={loading:!1,coupen:[],error:"",addResponse:""},Ft={loading:!1,orders:[],error:"",addResponse:""},Dt={loading:!0,admin:"",error:"",adminActive:""},Tt=Object(gt.combineReducers)({admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!0});case x:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,admin:t.payload,error:""});case m:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,error:t.payload,users:""});case f:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,adminActive:t.payload,error:""});default:return e}},user:Nt,category:Et,product:kt,order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!0});case q:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,orders:t.payload,error:""});case Q:return Object(Ct.a)(Object(Ct.a)({},e),{},{addResponse:t.payload,loading:!1,error:""});case W:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,error:t.payload});default:return e}},offer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!0});case Ue:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,offers:t.payload,error:""});case Pe:return Object(Ct.a)(Object(Ct.a)({},e),{},{addResponse:t.payload,loading:!1,error:""});case Le:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,error:t.payload});default:return e}},sales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{report:[],loading:!1,error:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!0});case J:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,report:t.payload,error:""});case Z:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,error:t.payload});default:return e}},dashboardCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,countDetails:{},error:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!0});case g:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,countDetails:t.payload,error:""});case y:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,error:t.payload,countDetails:""});default:return e}},coupen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!0});case ze:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,coupen:t.payload,error:""});case Me:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,error:""});case Ye:return Object(Ct.a)(Object(Ct.a)({},e),{},{loading:!1,error:t.payload});default:return e}}}),Rt=Tt,At=Object(gt.createStore)(Rt,Object(vt.composeWithDevTools)(Object(gt.applyMiddleware)(yt.a)));u.a.defaults.baseURL="/api",u.a.defaults.withCredentials=!0;var Bt=function(){return Object(N.jsx)(h.a,{store:At,children:Object(N.jsx)(pt,{})})},Pt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,231)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),c(e),r(e),n(e),s(e)}))};a(205),a(206),a(207);s.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(Bt,{})}),document.getElementById("root")),Pt()}},[[208,1,2]]]);
//# sourceMappingURL=main.5a52bcd3.chunk.js.map